title: Magazine
options:
  changeTemplate:
    - article
    - opinion
    - magazine

tabs:
  # content tab
  content:
    label: Rédaction
    icon: text
    preset: page
    pages: false
    fields:
      isTranslated:
        label: Traduction faite ?
        type: toggle
        width: 1/4
        when:
          currentLang: en
      currentLang:
        label: Current lang
        type: hidden
      introtext:
        label: Texte d'introduction
        type: text
      citation:
        label: Punchline
        type: textarea
        help: Citation qui apparait sur le listing des rounds et la home
        width: 2/3
      citationAuhor:
        label: Auteur de la punchline
        type: text
        width: 1/3
      text:
        label: Page Builder
        type: builder
        fieldsets:
          bodytext:
            name: Texte
            fields:
              text:
                label: text
                type: textarea
          imglarge:
            name: Image large
            preview:
              snippet: blocks/imglarge
              css: /assets/css/main.css
            fields:
              imagelarge:
                label: Image
                type: files
                multiple: false
                query: page.images
              figcaption:
                label: Texte sous l'image (optionnel)
                type: textarea
          fullimage:
            name: Image pleine largeur
            preview:
              snippet: blocks/fullimage
              css: /assets/css/main.css
            fields:
              fullimage:
                label: Image en pleine longueur
                type: files
                multiple: false
                query: page.images
              citation:
                label: Citation superposée à l'image
                type: text
          imgleft:
            name: Image alignée à gauche, texte à droite
            preview:
              snippet: blocks/imgleft
              css: /assets/css/main.css
            fields:
              imageleft:
                label: Image gauche
                type: files
                multiple: false
                query: page.images
              figcaption:
                label: Texte sous l'image (optionnel)
                type: textarea
              textcol:
                label: Texte à droite
                type: textarea
          imgright:
            name: Image alignée à droite, texte à gauche
            preview:
              snippet: blocks/imgright
              css: /assets/css/main.css
            fields:
              imageright:
                label: Image à droite
                type: files
                multiple: false
                query: page.images
              figcaption:
                label: Texte sous l'image (optionnel)
                type: textarea
              textcol:
                label: Texte à gauche
                type: textarea
          embed:
            name: Youtube, Vimeo, etc...
            preview:
              snippet: blocks/embed
              css: /assets/css/main.css
            fields:
              embed:
                label: Embed
                type: embed
          citation:
            name: Citation
            preview:
              snippet: blocks/citation
              css: /assets/css/main.css
            fields:
              text:
                label: text
                type: textarea
          patreon:
            name: Patreon
            preview:
              snippet: blocks/patreon
              css: /assets/css/main.css
            fields:
              text:
                label: text
                type: textarea
          tweet: # This is a field set. It contains a group of kirby fields. The user can select from these sets to build the content.
            name: Tweet # The name option is used as a label for the buttons to add new fieldsets. It is also used as a label in the header of the fieldset, if the label option is not set explicitly (see next line).
            label: Tweet by {{author}} # Optional. The label option can be used to override the header text of the fieldset. The 'mustache' syntax can be used to include the value of any field of the fieldset.
            preview: # Optional. If defined, a preview of the fieldset can be rendered by the specified snippet from within the snippets folder.
              snippet: blocks/tweet
              css: /assets/css/main.css
            defaultView: preview # Optional. If the value "preview" is set, the block will show the preview when the page is loaded in the panel. If the value is a tab name, the respective tab is preselected when the page is loaded. Newly created blocks ignore this value and have the edit mode or the first tab preselected.
            fields:
              text:
                label: Tweet text
                type: textarea
              date:
                label: Tweet date
                type: date
              author:
                label: Tweet author
                type: text
              authorId:
                label: Tweet author ID (don't include the @)
                type: text
              link:
                label: Tweet Link
                type: url
              context:
                label: Tweet context (if needed)
                type: text
          video:
            name: Vidéo
            preview:
              snippet: blocks/video
              css: /assets/css/main.css
            fields:
              video:
                label: Vidéo
                type: files
                multiple: false
                query: page.videos
              loop:
                label: Loop
                width: 1/6
                type: toggle
              autoplay:
                label: Autoplay
                width: 1/6
                type: toggle
              mute:
                label: Mute
                width: 1/6
                type: toggle
              controls:
                label: Controls
                width: 1/6
                type: toggle
              figcaption:
                label: Texte sous la vidéo (optionnel)
                type: textarea
      credits:
        label: Remerciements
        type: textarea

  # images tab
  images:
    label: Images
    icon: image
    preset: page
    pages: false
    fields:
      images: fields/images-magazine

  # seo tab
  seo:
    label: Seo
    icon: globe
    preset: page
    pages: false
    fields:
      seo: fields/seo

  # meta tabs
  metas: fields/metadonnees

  # social tab
  social:
    label: Réseaux sociaux
    icon: twitter
    preset: page
    pages: false
    fields:
      social: fields/socialnetworks
